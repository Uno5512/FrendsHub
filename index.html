<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FriendsHub Mini App</title>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Rubik', sans-serif;
            margin: 0;
            padding: 0;
            background: #eedfc8;
            overflow-x: hidden;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(8px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.3s ease;
        }

        .modal-content {
            background: #fff;
            padding: 16px;
            border-radius: 8px;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .modal-content h2 {
            font-size: 18px;
            margin-bottom: 16px;
        }

        .modal-content input,
        .modal-content textarea,
        .modal-content select {
            padding: 8px;
            font-size: 16px;
            background: #f1d299;
            border: none;
            border-radius: 8px;
            margin-bottom: 10px;
            width: 100%;
        }

        .modal-content textarea {
            min-height: 100px;
            resize: vertical;
        }

        .modal-content select:focus,
        .modal-content input:focus,
        .modal-content textarea:focus {
            outline: none;
        }

        .modal-content button {
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
        }

        .modal-content button[type="button"] {
            background: #E5E7EB;
            color: #1A2A44;
            border: none;
        }

        .modal-content button[type="submit"],
        .modal-content button:not([type="button"]) {
            background: #987eeb;
            color: #fff;
            border: none;
        }

        #main {
            display: none;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }

        .logo {
            width: 100px;
            height: 100px;
            object-fit: contain;
            display: block;
            margin: 16px auto 10px;
        }

        .search-bar {
            background: #f1d299;
            border: 2px solid #f6e1bc;
            border-radius: 22px;
            padding: 8px;
            margin: 8px 0 16px;
            position: sticky;
            top: 16px;
            z-index: 100;
        }

        .search-bar input {
            padding: 8px;
            font-size: 22px;
            border-radius: 8px;
            background: #f1d299;
            border: none;
            width: 100%;
        }

        .search-bar input:focus {
            outline: none;
        }

        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 2px;
            margin-top: 4px;
        }

        .filters select {
            padding: 4px;
            font-size: 18px;
            background: #f1d299;
            border: 1px solid #f6e1bc;
            border-radius: 22px;
            cursor: pointer;
            flex: 1;
            min-width: 60px;
        }

        .filters select:focus {
            outline: none;
        }

        .announcement {
            background: #efefef;
            padding: 16px;
            border-radius: 22px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin: 8px 0;
            transition: transform 0.5s ease, opacity 0.5s ease;
        }

        .announcement.own {
            border: 1px solid #ff6200;
        }

        .announcement.expanded .announcement-details {
            max-height: 1000px;
            opacity: 1;
        }

        .announcement-header h3 {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 8px;
            color: #41494e;
            hyphens: auto;
            word-wrap: break-word;
            white-space: normal;
            max-width: 100%;
            cursor: pointer;
        }

        .announcement-details {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transition: max-height 0.7s ease-in-out, opacity 0.7s ease-in-out;
            margin-bottom: 16px;
        }

        .announcement-details p {
            font-size: 18px;
            line-height: 1.5;
            color: #555;
            hyphens: auto;
            word-wrap: break-word;
            white-space: normal;
        }

        .announcement-details p:nth-child(2) {
            font-size: 12px;
            color: #555;
        }

        .creator-container {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 8px 0 4px;
        }

        .creator-container img {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            object-fit: cover;
        }

        .buttons {
            display: flex;
            align-items: center;
            gap: 12px;
            justify-content: space-between;
        }

        .buttons span {
            font-size: 16px;
            color: #555;
        }

        .buttons button {
            padding: 5px 10px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            background: #987eeb;
            color: #fff;
            border: none;
        }

        .create-btn,
        .account-btn {
            position: fixed;
            bottom: 20px;
            width: 60px;
            height: 60px;
            background: #987eeb;
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transition: transform 0.3s ease;
        }

        .create-btn:hover,
        .account-btn:hover {
            transform: scale(1.1);
        }

        .create-btn {
            right: 20px;
        }

        .account-btn {
            left: 20px;
            font-size: 16px;
        }

        .account-btn::before {
            content: 'üë§';
            font-size: 24px;
        }

        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-100%);
            background: #987eeb;
            color: #fff;
            padding: 12px 24px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            z-index: 1004;
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .notification.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <h2>–í—Ö–æ–¥</h2>
            <button onclick="telegramConnect()">Telegram Connect</button>
            <p id="syncError" class="notification" style="display: none;">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Telegram –Ω–µ —É–¥–∞–ª–∞—Å—å, –≤–æ–π–¥–∏—Ç–µ –æ–±—ã—á–Ω—ã–º –ø—É—Ç–µ–º</p>
            <button id="registerBtn" onclick="showRegistration()" style="display: none;">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            <div id="registrationForm" style="display: none; margin-top: 20px;">
                <img src="https://uno5512.github.io/FrendsHub/3.png" style="width: 50px; height: 50px; border-radius: 50%; float: left; margin-right: 10px;">
                <input type="text" placeholder="–ò–º—è" id="name" style="width: 150px; margin-bottom: 10px;">
                <input type="date" id="birthdate" style="width: 150px; margin-bottom: 10px;">
                <select id="gender" style="width: 150px; margin-bottom: 10px;">
                    <option value="male">–ú—É–∂—Å–∫–æ–π</option>
                    <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
                    <option value="other">–ù–µ –≤–∞–∂–Ω–æ</option>
                </select>
                <textarea placeholder="–û —Å–µ–±–µ" id="about" style="width: 100%; height: 60px; margin-bottom: 10px;"></textarea>
                <button onclick="cancelRegistration()">–û—Ç–º–µ–Ω–∞</button>
                <button id="nextBtn" onclick="submitRegistration()" disabled>–î–∞–ª–µ–µ</button>
            </div>
        </div>
    </div>

    <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    <div id="main">
        <img src="https://uno5512.github.io/FrendsHub/3.png" class="logo">
        <div class="search-bar">
            <input type="text" placeholder="–ü–æ–∏—Å–∫" oninput="searchAnnouncements(this.value)">
            <div class="filters">
                <select id="cityFilter">
                    <option value="">–ì–æ—Ä–æ–¥: –í—Å–µ</option>
                    <option value="–ú–æ—Å–∫–≤–∞">–ú–æ—Å–∫–≤–∞</option>
                    <option value="–ö–∞–∑–∞–Ω—å">–ö–∞–∑–∞–Ω—å</option>
                    <option value="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                </select>
                <select id="typeFilter">
                    <option value="">–í–∏–¥: –í—Å–µ</option>
                    <option value="–ü—Ä–æ–≥—É–ª–∫–∞">–ü—Ä–æ–≥—É–ª–∫–∞</option>
                    <option value="–û–±—â–µ–Ω–∏–µ">–û–±—â–µ–Ω–∏–µ</option>
                    <option value="–ò–≥—Ä—ã">–ò–≥—Ä—ã</option>
                </select>
                <select id="dateFilter">
                    <option value="">–î–∞—Ç–∞: –í—Å–µ</option>
                    <option value="–°–µ–≥–æ–¥–Ω—è">–°–µ–≥–æ–¥–Ω—è</option>
                    <option value="–ó–∞–≤—Ç—Ä–∞">–ó–∞–≤—Ç—Ä–∞</option>
                    <option value="–ù–∞ –Ω–µ–¥–µ–ª–µ">–ù–∞ –Ω–µ–¥–µ–ª–µ</option>
                </select>
                <select id="genderFilter">
                    <option value="">–ü–æ–ª: –í—Å–µ</option>
                    <option value="–ú—É–∂—Å–∫–æ–π">–ú—É–∂—Å–∫–æ–π</option>
                    <option value="–ñ–µ–Ω—Å–∫–∏–π">–ñ–µ–Ω—Å–∫–∏–π</option>
                    <option value="–ù–µ –≤–∞–∂–Ω–æ">–ù–µ –≤–∞–∂–Ω–æ</option>
                </select>
                <select id="sortFilter" onchange="sortAnnouncements()">
                    <option value="rating">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É</option>
                    <option value="verified">–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</option>
                    <option value="newest">–ù–æ–≤—ã–µ</option>
                    <option value="oldest">–°—Ç–∞—Ä—ã–µ</option>
                </select>
            </div>
        </div>
        <div id="announcements"></div>
        <button class="create-btn" onclick="showCreateModal()">+</button>
        <button class="account-btn" onclick="showAccount()">üë§</button>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è -->
    <div id="createModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>–°–æ–∑–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h2>
            <input type="text" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫" id="createTitle" maxlength="40">
            <textarea placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" id="createDescription" style="height: 80px;"></textarea>
            <select id="createCity">
                <option value="–ú–æ—Å–∫–≤–∞">–ú–æ—Å–∫–≤–∞</option>
                <option value="–ö–∞–∑–∞–Ω—å">–ö–∞–∑–∞–Ω—å</option>
                <option value="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
            </select>
            <select id="createType">
                <option value="–ü—Ä–æ–≥—É–ª–∫–∞">–ü—Ä–æ–≥—É–ª–∫–∞</option>
                <option value="–û–±—â–µ–Ω–∏–µ">–û–±—â–µ–Ω–∏–µ</option>
                <option value="–ò–≥—Ä—ã">–ò–≥—Ä—ã</option>
            </select>
            <select id="createDate">
                <option value="–°–µ–≥–æ–¥–Ω—è">–°–µ–≥–æ–¥–Ω—è</option>
                <option value="–ó–∞–≤—Ç—Ä–∞">–ó–∞–≤—Ç—Ä–∞</option>
                <option value="–ù–∞ –Ω–µ–¥–µ–ª–µ">–ù–∞ –Ω–µ–¥–µ–ª–µ</option>
            </select>
            <select id="createGender">
                <option value="–ú—É–∂—Å–∫–æ–π">–ú—É–∂—Å–∫–æ–π</option>
                <option value="–ñ–µ–Ω—Å–∫–∏–π">–ñ–µ–Ω—Å–∫–∏–π</option>
                <option value="–ù–µ –≤–∞–∂–Ω–æ">–ù–µ –≤–∞–∂–Ω–æ</option>
            </select>
            <button onclick="cancelCreate()">–û—Ç–º–µ–Ω–∞</button>
            <button onclick="submitCreate()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–∫–∫–∞—É–Ω—Ç–∞ -->
    <div id="accountModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>–ê–∫–∫–∞—É–Ω—Ç</h2>
            <p><strong>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ:</strong> <span id="favoritesList">(–ø—É—Å—Ç–æ)</span></p>
            <p><strong>–ó–∞—è–≤–∫–∏:</strong> <span id="applicationsList">(–ø—É—Å—Ç–æ)</span></p>
            <button onclick="closeAccount()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <script>
        let announcements = [
            { id: 1, title: "–ü—Ä–æ–≥—É–ª–∫–∞ –ø–æ –ú–æ—Å–∫–≤–µ", desc: "–ì—É–ª—è–µ–º –≤ –ø–∞—Ä–∫–µ –ì–æ—Ä—å–∫–æ–≥–æ", city: "–ú–æ—Å–∫–≤–∞", type: "–ü—Ä–æ–≥—É–ª–∫–∞", date: "–°–µ–≥–æ–¥–Ω—è", gender: "–ù–µ –≤–∞–∂–Ω–æ", creator: "–Ø", age: 25, likes: 10, dislikes: 2, participants: 5, isOwn: true, created: Date.now() },
            { id: 2, title: "–ò–≥—Ä—ã –≤ –ö–∞–∑–∞–Ω–∏", desc: "–ù–∞—Å—Ç–æ–ª–∫–∏ –∏ –≤–µ—Å–µ–ª—å–µ", city: "–ö–∞–∑–∞–Ω—å", type: "–ò–≥—Ä—ã", date: "–ó–∞–≤—Ç—Ä–∞", gender: "–ù–µ –≤–∞–∂–Ω–æ", creator: "–ê–ª–µ–∫—Å–µ–π", age: 25, likes: 15, dislikes: 1, participants: 3, isOwn: false, created: Date.now() - 86400000 }
        ];
        let favorites = [];
        let applications = [];

        // –õ–æ–≥–∏–∫–∞ –≤—Ö–æ–¥–∞
        function telegramConnect() {
            document.getElementById('syncError').style.display = 'block';
            document.getElementById('registerBtn').style.display = 'block';
        }

        function showRegistration() {
            document.getElementById('registrationForm').style.display = 'block';
            checkRegistrationFields();
        }

        function cancelRegistration() {
            document.getElementById('registrationForm').style.display = 'none';
        }

        function checkRegistrationFields() {
            const name = document.getElementById('name').value;
            const birthdate = document.getElementById('birthdate').value;
            const gender = document.getElementById('gender').value;
            const about = document.getElementById('about').value;
            document.getElementById('nextBtn').disabled = !(name && birthdate && gender && about);
        }

        document.querySelectorAll('#registrationForm input, #registrationForm textarea, #registrationForm select').forEach(el => {
            el.oninput = checkRegistrationFields;
        });

        function submitRegistration() {
            document.getElementById('loginModal').style.display = 'none';
            document.getElementById('main').style.display = 'block';
            renderAnnouncements();
        }

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
        function renderAnnouncements(filtered = announcements) {
            const container = document.getElementById('announcements');
            container.innerHTML = '';
            filtered.forEach(ann => {
                const div = document.createElement('div');
                div.className = `announcement ${ann.isOwn ? 'own' : ''} ${ann.expanded ? 'expanded' : ''}`;
                div.innerHTML = `
                    <div class="announcement-header">
                        <h3>${ann.title}</h3>
                        <div class="buttons">
                            <span>${ann.creator}, ${ann.age} –ª–µ—Ç</span>
                            <span>–£—á–∞—Å—Ç–Ω–∏–∫–∏: ${ann.participants}</span>
                            <button onclick="likeAnnouncement(${ann.id}); event.stopPropagation();">–õ–∞–π–∫ (${ann.likes})</button>
                            <button onclick="dislikeAnnouncement(${ann.id}); event.stopPropagation();">–î–∏–∑–ª–∞–π–∫ (${ann.dislikes})</button>
                            <button onclick="showOptions(${ann.id}); event.stopPropagation();">...</button>
                        </div>
                    </div>
                    <div class="announcement-details">
                        <p>${ann.desc}</p>
                        <p style="font-size: 12px; color: #666;">${ann.city} | ${ann.type} | ${ann.date} | ${ann.gender}</p>
                        <div style="display: flex; align-items: center; margin-top: 10px;">
                            <img src="https://uno5512.github.io/FrendsHub/3.png" style="width: 40px; height: 40px; border-radius: 50%; margin-right: 10px;">
                            <button onclick="participate(${ann.id}); event.stopPropagation();">–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å (${ann.participants})</button>
                        </div>
                    </div>
                `;
                div.onclick = (e) => {
                    if (!e.target.closest('.buttons') && !e.target.closest('button')) {
                        ann.expanded = !ann.expanded;
                        renderAnnouncements(filtered);
                    }
                };
                container.appendChild(div);
            });
        }

        // –ò–Ω—Ç–µ—Ä–∞–∫—Ü–∏–∏
        function likeAnnouncement(id) {
            const ann = announcements.find(a => a.id === id);
            ann.likes++;
            sortAnnouncements();
        }

        function dislikeAnnouncement(id) {
            const ann = announcements.find(a => a.id === id);
            ann.dislikes++;
            sortAnnouncements();
        }

        function participate(id) {
            const ann = announcements.find(a => a.id === id);
            ann.participants++;
            if (!ann.isOwn) applications.push(ann);
            renderAnnouncements();
            updateAccount();
        }

        function showOptions(id) {
            const ann = announcements.find(a => a.id === id);
            if (ann.isOwn) {
                alert('–û–ø—Ü–∏–∏: –ü–æ–¥–µ–ª–∏—Ç—å—Å—è, –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –£–¥–∞–ª–∏—Ç—å');
            } else {
                const action = prompt('–û–ø—Ü–∏–∏: –ü–æ–¥–µ–ª–∏—Ç—å—Å—è, –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, –ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è');
                if (action === '–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ') favorites.push(ann);
                updateAccount();
            }
        }

        // –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
        function searchAnnouncements(query) {
            const filtered = announcements.filter(ann => {
                const searchStr = `${ann.title} ${ann.desc} ${ann.city} ${ann.type} ${ann.date} ${ann.gender}`.toLowerCase();
                return searchStr.includes(query.toLowerCase());
            });
            applyFilters(filtered);
        }

        function applyFilters(list) {
            const city = document.getElementById('cityFilter').value;
            const type = document.getElementById('typeFilter').value;
            const date = document.getElementById('dateFilter').value;
            const gender = document.getElementById('genderFilter').value;
            let filtered = list;
            if (city) filtered = filtered.filter(ann => ann.city === city);
            if (type) filtered = filtered.filter(ann => ann.type === type);
            if (date) filtered = filtered.filter(ann => ann.date === date);
            if (gender) filtered = filtered.filter(ann => ann.gender === gender);
            renderAnnouncements(filtered);
        }

        function sortAnnouncements() {
            const sort = document.getElementById('sortFilter').value;
            if (sort === 'rating') announcements.sort((a, b) => (b.likes - b.dislikes) - (a.likes - a.dislikes));
            if (sort === 'newest') announcements.sort((a, b) => b.created - a.created);
            if (sort === 'oldest') announcements.sort((a, b) => a.created - b.created);
            renderAnnouncements();
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
        function showCreateModal() {
            document.getElementById('createModal').style.display = 'flex';
        }

        function cancelCreate() {
            document.getElementById('createModal').style.display = 'none';
        }

        function submitCreate() {
            const title = document.getElementById('createTitle').value;
            const desc = document.getElementById('createDescription').value;
            if (title && desc) {
                announcements.push({
                    id: announcements.length + 1,
                    title,
                    desc,
                    city: document.getElementById('createCity').value,
                    type: document.getElementById('createType').value,
                    date: document.getElementById('createDate').value,
                    gender: document.getElementById('createGender').value,
                    creator: "–Ø",
                    age: 25,
                    likes: 0,
                    dislikes: 0,
                    participants: 0,
                    isOwn: true,
                    created: Date.now()
                });
                sortAnnouncements();
                cancelCreate();
            } else {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ');
            }
        }

        // –ê–∫–∫–∞—É–Ω—Ç
        function showAccount() {
            updateAccount();
            document.getElementById('accountModal').style.display = 'flex';
        }

        function updateAccount() {
            document.getElementById('favoritesList').textContent = favorites.length ? favorites.map(f => f.title).join(', ') : '(–ø—É—Å—Ç–æ)';
            document.getElementById('applicationsList').textContent = applications.length ? applications.map(a => a.title).join(', ') : '(–ø—É—Å—Ç–æ)';
        }

        function closeAccount() {
            document.getElementById('accountModal').style.display = 'none';
        }

        renderAnnouncements();
    </script>
</body>
</html>
